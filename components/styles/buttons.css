/* =========================
   Button Styles
   =========================== */

@layer utilities {
  .btn {
    @apply relative inline-flex items-center justify-center cursor-pointer overflow-hidden text-center font-normal text-nowrap bg-primary text-primary-foreground border-primary;
    border-radius: var(--button-radius, var(--radius-full));
    border-width: var(--button-border-width, 1px);
    border-style: solid;
    padding-inline: var(--button-padding-x-md);
    padding-block: var(--button-padding-y-md);
    transition: var(--button-transition, var(--transition-all));
    box-shadow: var(--button-shadow, var(--shadow-none));
  }

  .btn:hover {
    transform: scale(var(--animation-hover-scale, var(--hover-scale)));
    box-shadow: var(--button-hover-shadow, var(--shadow-base));
  }

  .btn span {
    @apply inline-block;
    transition: transform var(--duration-normal) var(--ease-out);
  }

  .btn::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='white' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
    background-position: center center;
    background-repeat: no-repeat;
    background-size: contain;
    content: "";
    @apply absolute right-0 h-0 w-0 opacity-0;
    top: 50%;
    transform: translateY(-50%);
    transition: all var(--duration-normal) var(--ease-out);
  }

  .btn:hover::before {
    width: var(--spacing-3);
    height: var(--spacing-3);
    transform: translateX(calc(-1 * var(--spacing-4))) translateY(-50%);
    @apply opacity-100;
  }

  .btn:hover span {
    transform: translateX(calc(-1 * var(--spacing-2)));
  }

  /* Button color variants */
  .btn-primary {
    @apply bg-primary text-primary-foreground border-primary hover:bg-primary/90;
  }

  .btn-primary::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='white' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground border-secondary hover:bg-secondary/90;
  }

  .btn-secondary::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='white' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
  }

  .btn-outline {
    @apply bg-transparent border-border text-foreground hover:bg-accent hover:text-accent-foreground;
  }

  .btn-outline::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='%231a1a1c' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
  }

  .dark .btn-outline::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='white' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
  }

  /* ButtonLink styles - fully customizable */
  .button-link {
    @apply relative inline-flex items-center justify-center cursor-pointer overflow-hidden text-center bg-transparent border-border text-foreground hover:bg-black hover:text-white hover:border-black font-light tracking-wide;
    border-radius: var(--button-radius, var(--radius-full));
    border-width: var(--button-border-width, 1px);
    border-style: solid;
    padding-inline: var(--button-padding-x-sm);
    padding-block: var(--button-padding-y-sm);
    font-size: var(--font-size-sm);
    line-height: var(--leading-normal);
    transition: var(--button-transition, var(--transition-all));
  }

  .button-link span {
    @apply inline-block;
    transition: transform var(--duration-normal) var(--ease-out);
  }

  .button-link::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
    background-position: center center;
    background-repeat: no-repeat;
    background-size: contain;
    content: "";
    @apply absolute right-0 size-0 opacity-0;
    top: 50%;
    transform: translateY(-50%);
    transition: all var(--duration-normal) var(--ease-out);
  }

  .button-link:hover span {
    transform: translateX(calc(-1 * var(--spacing-1\.5)));
  }

  .button-link:hover::before {
    width: var(--spacing-3\.5);
    height: var(--spacing-3\.5);
    transform: translateX(calc(-1 * var(--spacing-1\.5))) translateY(-50%);
    @apply opacity-100;
  }

  /* ButtonLink large variant with accent background */
  .button-link-lg {
    @apply relative inline-flex items-center justify-center cursor-pointer overflow-hidden text-center bg-white border-border text-foreground hover:bg-accent hover:text-accent-foreground hover:border-accent dark:bg-neutral-800 font-normal tracking-wide;
    border-radius: var(--button-radius, var(--radius-full));
    border-width: var(--button-border-width, 1px);
    border-style: solid;
    padding-inline: var(--button-padding-x-lg);
    padding-block: var(--button-padding-y-lg);
    font-size: var(--font-size-base);
    line-height: var(--leading-normal);
    transition: var(--button-transition, var(--transition-all));
  }

  .button-link-lg span {
    @apply inline-block;
    transition: transform var(--duration-normal) var(--ease-out);
  }

  .button-link-lg::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%231a1a1c' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
    background-position: center center;
    background-repeat: no-repeat;
    background-size: contain;
    content: "";
    @apply absolute right-0 size-0 opacity-0;
    top: 50%;
    transform: translateY(-50%);
    transition: all var(--duration-normal) var(--ease-out);
  }

  .dark .button-link-lg::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='white' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
  }

  .button-link-lg:hover span {
    transform: translateX(calc(-1 * var(--spacing-2)));
  }

  .button-link-lg:hover::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='white' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
    width: var(--spacing-4);
    height: var(--spacing-4);
    transform: translateX(calc(-1 * var(--spacing-2))) translateY(-50%);
    @apply opacity-100;
  }

  /* ButtonLink accent variant - accent bg initially, primary on hover */
  .button-link-accent {
    @apply relative inline-flex items-center justify-center cursor-pointer overflow-hidden text-center bg-accent border-accent text-accent-foreground hover:bg-primary hover:text-primary-foreground hover:border-primary font-light tracking-wide;
    border-radius: var(--button-radius, var(--radius-full));
    border-width: var(--button-border-width, 1px);
    border-style: solid;
    padding-inline: var(--button-padding-x-sm);
    padding-block: var(--button-padding-y-sm);
    font-size: var(--font-size-sm);
    line-height: var(--leading-normal);
    transition: var(--button-transition, var(--transition-all));
  }

  .button-link-accent span {
    @apply inline-block;
    transition: transform var(--duration-normal) var(--ease-out);
  }

  .button-link-accent::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
    background-position: center center;
    background-repeat: no-repeat;
    background-size: contain;
    content: "";
    @apply absolute right-0 size-0 opacity-0;
    top: 50%;
    transform: translateY(-50%);
    transition: all var(--duration-normal) var(--ease-out);
  }

  .button-link-accent:hover span {
    transform: translateX(calc(-1 * var(--spacing-1\.5)));
  }

  .button-link-accent:hover::before {
    width: var(--spacing-3\.5);
    height: var(--spacing-3\.5);
    transform: translateX(calc(-1 * var(--spacing-1\.5))) translateY(-50%);
    @apply opacity-100;
  }

  /* ButtonLink primary variant - primary bg with shopping cart icon */
  .button-link-primary {
    @apply relative inline-flex items-center justify-center cursor-pointer overflow-hidden text-center bg-primary border-primary text-primary-foreground hover:bg-primary/90 hover:border-primary/90 font-light tracking-wide;
    border-radius: var(--button-radius, var(--radius-full));
    border-width: var(--button-border-width, 1px);
    border-style: solid;
    padding-inline: var(--button-padding-x-sm);
    padding-block: var(--button-padding-y-sm);
    font-size: var(--font-size-sm);
    line-height: var(--leading-normal);
    transition: var(--button-transition, var(--transition-all));
  }

  .button-link-primary span {
    @apply inline-block;
    transition: transform var(--duration-normal) var(--ease-out);
  }

  .button-link-primary::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='white' viewBox='0 0 256 256'%3E%3Cpath d='M222.14,58.87A8,8,0,0,0,216,56H54.68L49.79,29.14A16,16,0,0,0,34.05,16H16a8,8,0,0,0,0,16h18L59.56,172.29a24,24,0,0,0,5.33,11.27,28,28,0,1,0,44.4,8.44h45.42A27.75,27.75,0,0,0,152,204a28,28,0,1,0,28-28H83.17a8,8,0,0,1-7.87-6.57L72.13,152h116a24,24,0,0,0,23.61-19.71l12.16-66.86A8,8,0,0,0,222.14,58.87ZM96,204a12,12,0,1,1-12-12A12,12,0,0,1,96,204Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,192,204Z'%3E%3C/path%3E%3C/svg%3E");
    background-position: center center;
    background-repeat: no-repeat;
    background-size: contain;
    content: "";
    @apply absolute right-0 size-0 opacity-0;
    top: 50%;
    transform: translateY(-50%);
    transition: all var(--duration-normal) var(--ease-out);
  }

  .button-link-primary:hover span {
    transform: translateX(calc(-1 * var(--spacing-4)));
  }

  .button-link-primary:hover::before {
    width: var(--spacing-4);
    height: var(--spacing-4);
    transform: translateX(calc(-1 * var(--spacing-4))) translateY(-50%);
    @apply opacity-100;
  }

  .btn-ghost {
    @apply bg-transparent border-transparent text-foreground hover:bg-accent hover:text-accent-foreground;
  }

  .btn-ghost::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='%231a1a1c' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
  }

  .dark .btn-ghost::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='white' viewBox='0 0 256 256'%3E%3Cpath d='M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z'%3E%3C/path%3E%3C/svg%3E");
  }

  /* Button size variants */
  .btn-sm {
    padding-inline: var(--button-padding-x-sm);
    padding-block: var(--button-padding-y-sm);
    font-size: var(--font-size-sm);
  }

  .btn-sm::before {
    content: none;
  }

  .btn-md {
    padding-inline: var(--button-padding-x-md);
    padding-block: var(--button-padding-y-md);
    font-size: var(--font-size-base);
    min-width: 90px;
  }

  .btn-md:hover::before {
    width: var(--spacing-2\.5);
    height: var(--spacing-2\.5);
    transform: translateX(calc(-1 * var(--spacing-3\.5))) translateY(-50%);
    @apply opacity-100;
  }

  .btn-lg {
    padding-inline: var(--button-padding-x-lg);
    padding-block: var(--button-padding-y-lg);
    font-size: var(--font-size-lg);
  }

  .btn-lg:hover::before {
    width: var(--spacing-3);
    height: var(--spacing-3);
    transform: translateX(calc(-1 * var(--spacing-4))) translateY(-50%);
    @apply opacity-100;
  }

  .btn-xl {
    padding-inline: var(--spacing-8);
    padding-block: var(--spacing-3\.5);
    font-size: var(--font-size-xl);
  }

  .btn-xl:hover::before {
    width: var(--spacing-3\.5);
    height: var(--spacing-3\.5);
    transform: translateX(calc(-1 * var(--spacing-5))) translateY(-50%);
    @apply opacity-100;
  }
}
